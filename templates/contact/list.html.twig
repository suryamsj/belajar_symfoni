{% extends 'base.html.twig' %}

{% block body %}
	<div class="container mt-5">
		<div class="row mb-3">
			<div class="col-lg-12 col-md-12 col-12">
				{% for label, messages in app.flashes %}
					{% for message in messages %}
						<div class="alert alert-success d-flex align-items-center alert-dismissible fade show flash-{{ label }}" role="alert">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill me-2" viewbox="0 0 16 16">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
							</svg>
							<div>
								{{ message }}
							</div>
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					{% endfor %}
				{% endfor %}
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12 col-md-12 col-12">
				<div class="card">
					<div class="card-header">
						Data contacts
						<a href="/contact/create" class="btn btn-primary btn-sm float-end">Add new contact</a>
					</div>
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-bordered table-hover table-striped">
								<thead>
									<tr>
										<th>#</th>
										<th>Name</th>
										<th>Address</th>
										<th>Phone Number</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									{% for contact in contacts %}
										<tr>
											<td>{{loop.index}}</td>
											<td>{{contact.name}}</td>
											<td>{{contact.address}}</td>
											<td>{{contact.phonenumber}}</td>
											<td>
												<a href="{{ path('app_contact_edituser', {id: contact.id}) }}" class="btn btn-primary btn-sm">Edit</a>
												<a href="{{ path('app_contact_delete', {id: contact.id}) }}" onclick="return confirm('Are you sure?');" class="btn btn-danger btn-sm">Delete</a>
											</td>
										</tr>
									{% else %}
										<tr>
											<td colspan="5">No Contact Found</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
